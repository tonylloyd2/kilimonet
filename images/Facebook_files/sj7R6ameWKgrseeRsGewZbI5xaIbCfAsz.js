;/*FB_PKG_DELIM*/

__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[0]=a[0],a})},function(a){return d[1]=[64,1083495711],d[2]=[0,0],d[3]=[0,0],c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.fe(c.ftr(c.db.table(9).fetch([[[d[0]]]]),function(a){return c.i64.eq(a.threadKey,d[0])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[0],mailboxType:[0,0],threadType:[0,2],clientThreadKey:d[0],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:[0,0],lastReadWatermarkTimestampMs:[0,0],snippetHasEmoji:!1,snippetSenderContactId:d[4],ongoingCallState:[0,0],authorityLevel:[0,20],capabilities:d[1],capabilities2:d[2],capabilities3:d[3],nullstateDescriptionText1:a[1],threadName:a[2]})},function(e){return d[5]=c.i64.of_int32(a[0].length),c.i64.gt(d[5],[0,0])?c.loopAsync(d[5],function(e){return d[6]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[0],d[6]).then(function(a){return a=a,d[7]=a[0],d[8]=a[1],a})},function(a){return c.fe(c.ftr(c.db.table(14).fetch([[[d[0],d[7]]]]),function(a){return c.i64.eq(a.threadKey,d[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(a.contactId,d[7])&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[0],contactId:d[7],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],f).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a[2]===!0?(d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",[0,1]),d[2]=d[1].get("client_thread_key"),d[1],d[3]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[2]),[0,153],d[3],f,f,[0,0],[0,0],f,f,[0,0])):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWSwitch.react",["cr:1925","cr:1926","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.icon,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","size"]);if(b("cr:1925"))return h.jsx(b("cr:1925"),babelHelpers["extends"]({},a,{icon:c,size:d}));return b("cr:1926")?h.jsx(b("cr:1926"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;g=g===void 0?void 0:g;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g),q=h(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,k]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTokenizerSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("CometInternalTokenizerSubscriptionProvider",["CometInternalTokenizerFetchContext","CometInternalTypeaheadEmptyFetchProvider","react","useBaseTokenizerSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;a=c("useBaseTokenizerSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;k((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[k,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=j(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return h.jsx(c("CometInternalTokenizerFetchContext").Provider,{value:e,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTokenizerSubscriptionProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,j=g===void 0?[]:g;g=a.inputRef;var k=a.emptyEntries_DO_NOT_USE,l=a.id,m=a.isDisabled;m=m===void 0?!1:m;var n=a.label;n=n===void 0?"":n;var o=a.loggingContext,p=a.onAddToken;p=p===void 0?c("emptyFunction"):p;var q=a.onBlur;q=q===void 0?c("emptyFunction"):q;var r=a.onChangeTokens,s=a.onClose;s=s===void 0?c("emptyFunction"):s;var t=a.onEscape;t=t===void 0?c("emptyFunction"):t;var u=a.onFocus;u=u===void 0?c("emptyFunction"):u;var v=a.onOpen;v=v===void 0?c("emptyFunction"):v;var w=a.onRemoveToken;w=w===void 0?c("emptyFunction"):w;var x=a.onSearchCompletion;x=x===void 0?c("emptyFunction"):x;var y=a.placeholder;y=y===void 0?"":y;var z=a.testid;z=z===void 0?"":z;z=a.tokensStrategyRenderer;var A=a.tokens,B=a.viewRole;B=B===void 0?"listbox":B;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var C=c("useCometUniqueID")(),D=c("useStable")(function(){var a=c("CometTokenizerInternal.react");j.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});n=n||y;return h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:k,onClose:s,onOpen:v,children:h.jsx(c("CometInternalTokenizerSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:o,children:h.jsx(D,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:i,id:(b=l)!=null?b:C,inputRef:g,isDisabled:m,label:n,onBackspace:c("emptyFunction"),onBlur:q,onChangeEntries:r,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:t,onFocus:u,onHighlightEntry:c("emptyFunction"),onPressEntry:p,onRemoveEntry:w,onSearchCompletion:x,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:y,selectedEntries:A,testid:void 0,tokensStrategyRenderer:z,viewRole:B}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"x1a8lsjc",$$css:!0}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("__JHASH__NSDogHXzKMm__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchTokenizerLightspeedSubscriptionDataSource",["MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.re","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadEnumerate","relay-runtime/network/RelayObservable"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.database,d=a.excludedIDs;d=d===void 0?[]:d;var e=a.lightspeedSupportedTypes;e=e===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:e;var f=a.source;f=f===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:f;var g=a.includeRecommendations;g=g===void 0?!0:g;a=a.dedupeWithOtherUserId;a=a===void 0?!1:a;this.$2=[];this.$3=!1;this.$1=new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:b,excludedIDs:d,includeGroupSearch:!1,includeRecommendations:g,lightspeedSupportedTypes:e,source:f});this.$2=d;this.$3=a}var b=a.prototype;b.fetchNetwork=function(a){var b=this,d=a.selectedTokens;a=babelHelpers.objectWithoutPropertiesLoose(a,["selectedTokens"]);var e=this.$1.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.subscribe({complete:a.complete,error:a.error,next:function(e){var f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(d,b.$3);f=c("mwChatSearchPayloadEnumerate")(f(e));return a.next(babelHelpers["extends"]({},f,{selectedTokens:d}))}})})};b.setExcludedIds=function(a){this.$1.setExcludedIds(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,m=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,n=i(function(a){return l||(k?k(a):!1)||m&&a.rawData.isInstagramAccount},[k,l,m]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:n(b),key:b.key,role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTokenizerLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","withBaseTokenizerEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,m=g===void 0?!0:g;g=a.isDisabled;var n=a.layoutStategyRenderer,o=a.onAddToken,p=a.onChangeTokens,q=a.onSearchAbandon,r=a.onSearchCompletion,s=a.supportedSearchTypes,t=s===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:s;s=a.tokenItemRenderer;var u=a.tokens,v=a.xstyles;a=a.isSecure;var w=l(""),x=w[0];w=w[1];var y=c("useReStore")(),z=a?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.omnipickerArmadillo:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal,A=j(function(){return new(c("MWChatSearchTokenizerLightspeedSubscriptionDataSource"))({database:y,dedupeWithOtherUserId:!0,excludedIDs:b,includeRecommendations:m,lightspeedSupportedTypes:t,source:z})},[y,b,m,t,z]);a=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withBaseTokenizerEscapeDecorator"),params:{onSearchAbandon:q}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:A}}});q=k(null);var B=q.current;i(function(){B&&B.focus()},[B,u]);i(function(){A.setExcludedIds(b||[])},[A,b]);s=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:s});var C=j(function(){return{getIsViewItemDisabled:f}},[f]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:A,dataSourceFetchConfigParams:d("MAWGating").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:a,extraLayoutProps:e,extraViewProps:C,inputRef:q,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:n,loggingContext:"messenger_chat",onAddToken:o,onChange:w,onChangeTokens:p,onSearchCompletion:r,queryString:x,testid:void 0,tokens:u,tokensStrategyRenderer:s,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f,g){"use strict";g.make=c("MWChatLightSpeedSearchTypeahead.react")}),98);
__d("FDSInboxNavigationHeaderWithBackButton.bs",["CometTopNavListDropdown.react","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.endContent,d=a.onReturn;a=a.title;b=b!==void 0?[c("bs_caml_option").valFromOption(b)]:[];b={actions:b,title:a};d!==void 0&&(b.onReturn=c("bs_caml_option").valFromOption(d));return h.jsx(c("CometTopNavListDropdown.react").Title,babelHelpers["extends"]({},b))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWInboxNavigationHeaderWithBackButton.bs",["cr:2207"],(function(a,b,c,d,e,f,g){"use strict";g.make=b("cr:2207").make}),98);
__d("MWInboxSelectedThread.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=h.useContext(d("MWInboxProvider.bs").context);if(a.TAG!==10)return;a=a._0;if(a===void 0)return;switch(a.TAG){case 3:case 4:return a._0;default:return}}g.useHook=a}),98);
__d("LSContactReachabilityStatusType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.reachable=a;f.unreachableUserType=c;f.unreachableAdultType=d}),null);
__d("MWLSParticipantDetails.bs",["GenderConst","LSContactGender.bs","LSContactReachabilityStatusType.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_format","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){return a.name})},[a,b]))}function b(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){return c("bs_belt_Option").getWithDefault(a.firstName,a.name)})},[a,b]))}function e(a){var b=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){return a.secondaryName})},[a,b])))}function f(a){var b=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){var b=a.gender,e=a.firstName;e=e!==void 0?e:a.name;a=c("bs_caml").i64_eq(b,d("LSContactGender.bs").female)?c("GenderConst").FEMALE_SINGULAR:c("bs_caml").i64_eq(b,d("LSContactGender.bs").male)?c("GenderConst").MALE_SINGULAR:c("bs_caml").i64_eq(b,d("LSContactGender.bs").neuter)?c("GenderConst").NEUTER_SINGULAR:c("GenderConst").NOT_A_PERSON;return[e,a]})},[a,b])))}function i(a){var b=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(a),tl:0}),function(a){a=a.contactReachabilityStatusType;if(a!==void 0)return c("bs_caml").i64_eq(d("LSContactReachabilityStatusType.bs").reachable,a);else return!0})},[a,b])),!0)}g.useParticipantName=a;g.useParticipantShortName=b;g.useParticipantSecondaryName=e;g.useNameAndGender=f;g.useParticipantReachabilityStatus=i}),98);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["MWInteropTokenUtils.bs","bs_curry","cr:1573","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForNewThread;function a(a,b){var e=h.useMemo(function(){return[a.some(d("MWInteropTokenUtils.bs").isInterop),a.some(function(a){return!d("MWInteropTokenUtils.bs").isGxacEligible(a)})]},[a]),f=e[1],g=e[0];e=c("bs_curry")._2(i,a,b);var j=e[1],k=e[0];return h.useCallback(function(a){var c=d("MWInteropTokenUtils.bs").isInterop(a),e=!d("MWInteropTokenUtils.bs").isGxacEligible(a);a=!d("MWInteropTokenUtils.bs").isInteropEligible(a);if(k||c&&j||c&&b||f&&c||g&&e)return!0;else if(c)return a;else return!1},[g,f,b,k,j])}g.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");g.useIsDisabled=a}),98);
__d("MWThreadListNewMessageHook.bs",["MWInteropTokenUtils.bs","MWThreadListNewMessageState.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWThreadListNewMessageState.bs").useDispatch();h.useEffect(function(){c("bs_curry")._1(b,{_0:!0,TAG:2});return function(a){return c("bs_curry")._1(b,{_0:void 0,TAG:1})}},[b]);h.useEffect(function(){c("bs_curry")._1(b,{_0:a.filter(function(a){return!d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}),TAG:3})},[b,a])}g.useHook=a}),98);
__d("MWV2NewThreadUtils.bs",["FBID.bs","LSContactBlockedByViewerStatus.bs","LSDatabaseType.bs","LSSearchType.bs","MAWGating","MWInteropTokenUtils.bs","MWLSDatabaseLazySync.bs","MWPActor.bs","MessagingThreadType.bs","MessengerWebEventsFalcoEvent.bs","bs_belt_Option","bs_caml_format","bs_curry","bs_int64","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(a==="group")return d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"search_click_result",thread_fbid:b}});else if(a==="messages"||a==="message"){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"search_click_result",other_user_fbid:b}})}function a(a){var b=d("MWLSDatabaseLazySync.bs").useSync(d("LSDatabaseType.bs").ranking);h.useEffect(function(){c("bs_curry")._1(b)},[b])}var j=[];function b(a,b){var e=h.useState(function(){return a}),f=e[1];e=e[0];var g=d("MWPActor.bs").useActor(),i=h.useMemo(function(){return[d("FBID.bs").ofStringExn(c("bs_int64").to_string(g))]},[g]),k=h.useCallback(function(a){return c("bs_curry")._1(f,function(b){return a.filter(function(a){if(a.rawData.id!==d("FBID.bs").ofStringExn(c("bs_int64").to_string(g))||d("MAWGating").isChatWithYourselfEnabled())return!d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a);else return!1})})},[f,g]);return[e,k,!d("MAWGating").isChatWithYourselfEnabled()&&(b||e.length>0)?i:j]}function e(a,b){return h.useMemo(function(){return a.filter(function(a){return!d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)}).map(function(a){a=a.rawData;var e=a.resultType,f=a.isInstagramAccount===!0,g=a.isContact,h=a.otherUserId;h=h!==void 0?h:a.id;var i;if(f)i=g?d("LSSearchType.bs").igContactFollowing:d("LSSearchType.bs").igNoncontactFollowing;else{f=0;g?e==="user"?i=d("LSSearchType.bs").contact:f=1:e==="user"?i=d("LSSearchType.bs").noncontact:f=1;f===1&&(e==="page"?i=d("LSSearchType.bs").page:e==="group"?i=d("LSSearchType.bs").group:(c("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(g?"true":"false")+"\n              Token Type: "+e,"messenger_web_product"),i=d("LSSearchType.bs").noncontact))}f=a.verificationStatus;return{blockedByViewerStatus:d("LSContactBlockedByViewerStatus.bs").unblocked,contextLine:a.subtext,displayName:a.displayName,id:c("bs_caml_format").caml_int64_of_string(h),isInteropEligible:a.isInteropEligible,isVerified:f!==void 0?f==="NOT_VERIFIED"?!1:!0:void 0,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,threadType:e==="user"?b?d("MessagingThreadType.bs").secureMessageOverWaOneToOne:d("MessagingThreadType.bs").oneToOne:e==="group"?d("MessagingThreadType.bs").group:d("MessagingThreadType.bs").oneToOne,type_:i}})},[a,b])}function f(a,b,e,f){var g=d("MWPActor.bs").useActor();return h.useCallback(function(h){var j=h.rawData,k=j.id,l=j.resultType,m=function(a){c("bs_curry")._1(b,function(a){return!0});return c("bs_curry")._1(e,{clientThreadKey:void 0,threadKey:c("bs_caml_format").caml_int64_of_string(k),threadType:a})};c("bs_belt_Option").getWithDefault(j.isInstagramAccount,!1)&&c("bs_curry")._1(f,function(a){return!1});a||i(l,k);j=d("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(h);if(l==="user")if(!d("MAWGating").isChatWithYourselfEnabled()&&c("bs_int64").to_string(g)===k||j)return m(d("MessagingThreadType.bs").oneToOne);else return;else if(l==="group")return m(d("MessagingThreadType.bs").group);else if(l==="messages"||l==="message"){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return m(a?d("MessagingThreadType.bs").secureMessageOverWaOneToOne:d("MessagingThreadType.bs").oneToOne)},[a,b,e,f,g])}g.logTokenClick=i;g.useSyncRanking=a;g.noExcludedTokens=j;g.useTokens=b;g.useTokensShimmed=e;g.useOnAddToken=f}),98);
__d("MWPThreadPreview.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSLocalCreateOptimisticGroupThread","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVec","LSVerifyContactRowExists","LSVerifyThreadRowExists","MAWGating","MWPActor.bs","MWPThreadTheme.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_option","bs_curry","bs_int64","cr:4212","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e={composer:{flexShrink:"x2lah0s",minHeight:"x879a55",$$css:!0},container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",fontSize:"x6prxxf",minHeight:"x2lwn1j",$$css:!0},preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0}};function i(a){var e=c("useReStore")();h.useEffect(function(){d("LSTransaction.bs").run(e,function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a.id,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,d("LSAuthorityLevel.bs").clientPartial,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,d("LS.bs").make(e))}))},"readWrite")},[e,JSON.stringify(a.map(function(a){return c("bs_int64").to_string(a.id)}))])}function j(a){var b=a.children,e=a.renderThreadPreview,f=a.renderThreadView;a=a.thread;if(e!==void 0)return c("bs_curry")._2(e,a,b);else return h.jsx(d("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j",children:[h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x2lwn1j",children:h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:c("bs_curry")._1(f,a)})}),h.jsx("div",{className:"x2lah0s x879a55",children:b})]})})}var k={make:j};function l(a){var b=a.children,e=a.recipientToken,f=a.renderThreadPreview,g=a.renderThreadView,k=a.setPreviewThread,l=c("useReStore")(),m=e.threadType,n=e.id;i([e]);h.useEffect(function(){c("promiseDone")(d("LSTransaction.bs").run(l,function(a){return c("LSVerifyThreadRowExists")(n,m,d("LSDatabaseType.bs").mailbox,d("LS.bs").make(a))},"readWrite"))},[l,c("bs_int64").to_string(n),JSON.stringify(m)]);var o=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("threads")),{hd:n,tl:0})},[l,n]));h.useEffect(function(){c("bs_curry")._1(k,function(a){return o})},[k,o]);if(o!==void 0)return h.jsx(j,{renderThreadPreview:f,renderThreadView:g,thread:o,children:b});else return null}var m={make:l};function n(a,b,e,f){var g=c("useReStore")(),i=c("bs_int64").to_string(d("MWPActor.bs").useActor()),j=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(g.table("participants")),function(a){return b.has(c("bs_int64").to_string(a.contactId))}),function(a){return c("bs_int64").to_string(a.threadKey)})},[g,b]));return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var e=new Set(j);return d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(g.table("threads")),function(a){return c("bs_caml").i64_eq(a.threadType,f)}),function(a){return a.threadName===void 0}),function(a){a=a.clientThreadKey;if(a!==void 0)return e.has(c("bs_int64").to_string(a));else return!1}),function(e){e=e.clientThreadKey;if(e===void 0)return!1;e=d("ReQLSuspense").toArray(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(g.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:e,tl:0}),function(a){return c("bs_int64").to_string(a.contactId)}),function(a){return a!==i}));if(d("MAWGating").isChatWithYourselfEnabled()&&a.length===1&&e.length===0)return!0;else if(e.every(function(a){return b.has(a)}))return e.length===b.size;else return!1})},[j,g,JSON.stringify(f),a,i,b]))}function o(a,e,f,g){var i=c("useReStore")();h.useEffect(function(){a===void 0&&c("promiseDone")(d("LSTransaction.bs").run(i,function(a){if(c("bs_caml").i64_eq(e,d("MessagingThreadType.bs").group))return c("LSLocalCreateOptimisticGroupThread")(c("LSVec").make(f.map(function(a){return a.id})),void 0,g,d("LS.bs").make(a)).then(function(a){});else if(d("LSMessagingThreadTypeUtil.bs").isSecure(e))if(b("cr:4212")==null)return b("Promise").resolve();else return c("bs_curry")._3(b("cr:4212").call,a,f,e).then(function(a){});else{c("recoverableViolation")("Don't know how to create optimistic thread for thread of thread type"+c("bs_belt_Option").getWithDefault(JSON.stringify(e),""),"messenger_web_product");return b("Promise").resolve()}},"readWrite"))},[g,i,JSON.stringify(a),JSON.stringify(e),f])}function p(a){var b=a.checkExistingThreads,d=a.children,e=a.renderThreadPreview,f=a.renderThreadView,g=a.setPreviewThread,k=a.threadType,l=a.tokenContactIdsMaybeExcludingActor,m=a.tokens;a=a.tokensMaybeExcludingActor;var p=n(a,l,g,k);i(a);o(p,k,m,b);h.useEffect(function(){c("bs_curry")._1(g,function(a){return p})});if(p!==void 0)return h.jsx(j,{renderThreadPreview:e,renderThreadView:f,thread:p,children:d});else return null}var q={make:p,useCreateOptimisticThreadForTokens:o,useFindMatchingOptimisticThreadWithParticipants:n};function r(a,b,e,f,g){var i=c("useReStore")(),j=c("bs_int64").to_string(d("MWPActor.bs").useActor()),k=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(i.table("participants")),function(a){return b.has(c("bs_int64").to_string(a.contactId))}),function(a){return c("bs_int64").to_string(a.threadKey)})},[i,b]));return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=new Set(k);return d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(i.table("threads")),function(a){return c("bs_caml").i64_eq(a.threadType,f)}),function(a){return a.threadName===void 0}),function(a){if(g)return!0;else return c("bs_caml").i64_eq(a.authorityLevel,d("LSAuthorityLevel.bs").optimistic)}),function(b){return a.has(c("bs_int64").to_string(b.threadKey))}),function(a){a=d("ReQLSuspense").toArray(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(i.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:a.threadKey,tl:0}),function(a){return c("bs_int64").to_string(a.contactId)}));var e=a.filter(function(a){return a!==j});if(d("MAWGating").isChatWithYourselfEnabled()&&e.length===0&&a.length===1)return!0;else if(a.length===e.length||e.length!==b.size)return!1;else return e.every(function(a){return b.has(a)})})},[k,i,JSON.stringify(f),g,a,b,j]))}function s(a){var b=a.checkExistingThreads,d=a.children,e=a.renderThreadPreview,f=a.renderThreadView,g=a.setPreviewThread,i=a.threadType,k=a.tokens,l=a.tokensMaybeExcludingActor;a=h.useMemo(function(){return new Set(l.map(function(a){return c("bs_int64").to_string(a.id)}))},[l]);var m=r(l,a,g,i,b);h.useEffect(function(){m!==void 0&&c("bs_curry")._1(g,function(a){return m})},[g,m]);if(m!==void 0)return h.jsx(j,{renderThreadPreview:e,renderThreadView:f,thread:m,children:d});else return h.jsx(p,{checkExistingThreads:b,renderThreadPreview:e,renderThreadView:f,setPreviewThread:g,threadType:i,tokenContactIdsMaybeExcludingActor:a,tokens:k,tokensMaybeExcludingActor:l,children:d})}var t={make:s,useFindExistingThreadWithTokens:r};function a(a){var b=a.nullstate,e=a.checkExistingThreads,f=a.areWeCreatingASecureThread,g=a.children,i=a.renderThreadPreview,j=a.renderThreadView,k=a.setPreviewThread,m=a.tokens;a=b!==void 0?c("bs_caml_option").valFromOption(b):null;b=e!==void 0?e:!0;var n=d("MWPActor.bs").useActor();e=h.useMemo(function(){return m.filter(function(a){return c("bs_caml").i64_neq(a.id,n)})},[m,n]);h.useEffect(function(){m.length===0&&c("bs_curry")._1(k,function(a){})},[k,m]);if(m.length===0)return a;var o=e.length;if(o!==1){if(o===0)if(f)return d("MAWGating").isChatWithYourselfEnabled()?h.jsx(s,{checkExistingThreads:b,renderThreadPreview:i,renderThreadView:j,setPreviewThread:k,threadType:d("MessagingThreadType.bs").secureMessageOverWaOneToOne,tokens:m,tokensMaybeExcludingActor:m,children:g}):a;else return h.jsx(l,{recipientToken:c("bs_caml_array").get(m,0),renderThreadPreview:i,renderThreadView:j,setPreviewThread:k,children:g})}else{o=e[0];if(b)if(f)return h.jsx(s,{checkExistingThreads:b,renderThreadPreview:i,renderThreadView:j,setPreviewThread:k,threadType:d("MessagingThreadType.bs").secureMessageOverWaOneToOne,tokens:m,tokensMaybeExcludingActor:e,children:g});else return h.jsx(l,{recipientToken:o,renderThreadPreview:i,renderThreadView:j,setPreviewThread:k,children:g})}return h.jsx(s,{checkExistingThreads:b,renderThreadPreview:i,renderThreadView:j,setPreviewThread:k,threadType:f?d("MessagingThreadType.bs").secureMessageOverWaGroup:d("MessagingThreadType.bs").group,tokens:m,tokensMaybeExcludingActor:e,children:g})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=k;k=m;m=q;q=t;t=f;g.$MAWCreateOptimisticSecureThread$requireCondXplat=b("cr:4212");g.mawCreateOptimisticSecureThread=b("cr:4212");g.styles=a;g.ExistingThreadPreview=e;g.CanonicalThreadPreview=k;g.OptimisticThread=m;g.PossiblyOptimisticThread=q;g.make=t}),98);/*FB_PKG_DELIM*/
__d("CometToken.react",["fbt","ix","CometIcon.react","CometPressable.react","CometProfilePhoto.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={"default":{backgroundColor:"x1hr4nm9",$$css:!0},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},readonly:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},root:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x3nfvp2",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},shrinkVerticalPadding:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},shrinkVerticalPaddingLevel4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},spacing:{marginEnd:"x1emribx",$$css:!0},suggested:{backgroundColor:"x1qhmfi1",$$css:!0}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var l=a.onPress,m=a.text;a=a.type;var n=a==="add"||a==="readonly"?"primary":"highlight",o=null,p=null,q=!1,r=!1,s=g===3?"body3":"body4";if(b){switch(b.type){case"text":o=j.jsx(c("TetraText.react"),{color:n,type:s,children:b.value});break;case"profile-photo":g===4?r=!0:q=!0;o=j.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?r=!0:q=!0;o=j.jsx(c("CometIcon.react"),{color:n,icon:b.icon});break}o=j.jsx("div",{"aria-hidden":a==="remove",className:"x1emribx",children:o})}if(e){switch(e.type){case"text":p=j.jsx(c("TetraText.react"),{color:n,type:s,children:e.value});break}p=j.jsx("div",{"aria-hidden":a==="remove",className:"x1emribx",children:p})}s=j.jsx("div",{"aria-hidden":a==="remove",className:""+(a!=="readonly"?" x1emribx":""),children:j.jsx(c("TetraText.react"),{color:n,type:g===3?"bodyLink3":"bodyLink4",children:m})});n=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=j.jsxs("div",{className:"x6s0dn4 xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb x3nfvp2"+((q?" x1yrsyyn x10b6aqq":""+(r?" x1iorvi4 xjkvuk6":""+((a==="readonly"?" x1y1aw1k xwib8y2":" x889kno x1a8lsjc")+(a==="add"||a==="readonly"?"":""+(a==="readonly"?"":""+(a!=="add"&&a!=="readonly"?"":""))))))+((a==="readonly"?" x1sxyh0 xurb0ha":" x1iji9kk x1sln4lm")+(a==="add"||a==="readonly"?" x1qhmfi1":""+(a!=="add"&&a!=="readonly"?" x1hr4nm9":"")))),children:[o,s,p,a==="add"?j.jsx(c("CometIcon.react"),{alt:h._("__JHASH__95v9ydXXTuI__JHASH__"),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?j.jsx(c("CometIcon.react"),{"aria-label":h._("__JHASH__U1aN33icCWb__JHASH__",[h._param("prefix",n),h._param("token_text",m),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:r,icon:d("fbicon")._(i("478231"),12),onPress:l,testid:void 0}):null]});return a==="add"?j.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:l,xstyle:k.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveDuplicates",["MWChatSearchResultType","MWXacGating.re"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=!1);return function(d){var e=d.entries;d=babelHelpers.objectWithoutPropertiesLoose(d,["entries"]);var f=a.some(function(a){a=a.rawData;return a.resultType===c("MWChatSearchResultType").USER}),g=a.some(function(a){a=a.rawData;return!a.isInstagramAccount}),h=new Set(),i=new Set();a.forEach(function(a){return i.add(a.key)});b&&a.forEach(function(a){a.rawData.otherUserId!=null&&i.add(a.rawData.otherUserId)});e=e.filter(function(a){var d=a.key;a=a.rawData;if(f&&a.resultType!==c("MWChatSearchResultType").USER)return!1;if(!c("MWXacGating.re").isGroupsEnabled()&&(g&&Boolean(a.isInstagramAccount)))return!1;a=!h.has(d)&&!i.has(d)&&!(b&&a.otherUserId!=null&&i.has(a.otherUserId));h.add(d);return a});return babelHelpers["extends"]({entries:e},d)}}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){return function(b){var d=b.onChangeEntries,e=b.onPressEntry,f=b.onRemoveEntry,g=b.onSearchCompletion,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);var k=i(function(a){var b=a.rawData.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(j,[a]);d(b)}e&&e(a)},[d,e,j]),l=i(function(a){var b;b=((b=j)!=null?b:[]).filter(function(b){return b.key!==a.key});d(b);f&&f(a)},[d,f,j]),m=i(function(){g&&g()},[g]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:d,onPressEntry:k,onRemoveEntry:l,onSearchCompletion:m,selectedEntries:j}))}}g["default"]=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);return h.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.label,type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withBaseTokenizerEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return function(b){var d=b.onChange,e=b.onEscape,f=b.queryString,g=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var j=i(function(){f!==""?d(""):g.length===0&&(c&&c()),e&&e()},[f,g.length,e,d]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:d,onEscape:j,queryString:f,selectedEntries:g}))}}g["default"]=a}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alertDecorator,d=a.escapeDecorator,e=a.limitDecorator,f=a.refetchDecorator,g=a.tokenManagementDecorator;return c("useStable")(function(){return[e,d,g,f,b].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l={root:{width:"xh8yej3",$$css:!0}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=k(function(){return[].concat(e,[{command:{key:c("CometKeys").DELETE},description:h._("__JHASH__Cd9YiubQMjf__JHASH__"),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return m&&m()},triggerFromInputs:!0},{command:{key:c("CometKeys").UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return r&&r()},triggerFromInputs:!0},{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:c("CometKeys").TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:c("CometKeys").TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,g,m,n,o,p,q,r]);b=c("useCometTypeaheadInputRefs")(b);var t=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=j(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:l.root,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(t,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=k(0),e=d[0],f=d[1],g=j(null);d=a!==""?a:c;i(function(){g.current&&f(g.current.offsetWidth)},[d]);return h.jsxs(h.Fragment,{children:[h.jsx("span",{"aria-hidden":"true",className:"x1jchvi3 x1xgp4w4 x1owdmkh x10l6tqk x17qophe x13vifvy xlshs6z xuxw1ft",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"x1h6gzvc",$$css:!0},input:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",boxSizing:"x9f619",color:"xzsf02u",display:"xt0psk2",fontSize:"x1jchvi3",fontWeight:"x1fcty0u",lineHeight:"x132q4wb",marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",maxWidth:"x193iq5w",outline:"x1a2a7pz",resize:"xtt52l0",$$css:!0},root:{cursor:"x1ed109x",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=a.autoFocus,q=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid","autoFocus"]),r=(o=e)!=null?o:c("useCometUniqueID")(),s=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:"x193iq5w x6ikm8r x10wlt62"+(l===!0?" x1h6gzvc":" x1ed109x"),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,q,{autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:p,className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:r,onChange:s,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return h(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onEnter;return h(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return h(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["fbt","CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","intlList","react","stylex","useCometAccessibilityAlerts","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l={helperText:{marginTop:"x1xmf6yo",$$css:!0},view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}},m="ChatTypeahead";function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var e=b.align;e=e===void 0?"stretch":e;var f=b.position;f=f===void 0?"below":f;var g=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]),n=a.description;b=a.extraLayoutProps;var o=b.ariaProps,p=o.ariaDescribedByProps,q=o.ariaInputProps,r=o.ariaViewProps;o=b.helperTextComponent;var s=b.isLoading;b=b.isOpened;var t=a.errorMessage,u=a.commandConfigs,v=a.selectedEntries,w=a.inputStrategyRenderer,x=a.isDisabled,y=a.label,z=a.layerContext;z=z===void 0?"root":z;var A=a.onBackspace,B=a.onBlur,C=a.onChange,D=a.onClick,E=a.onDownArrow,F=a.onEnter,G=a.onEscape,H=a.onFocus,I=a.onShiftTab,J=a.onTab,K=a.onUpArrow,L=a.queryString,M=a.inputRef,N=a.tokensStrategyRenderer,O=a.viewStrategyRenderer,P=a.xstyles,Q=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","extraLayoutProps","errorMessage","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(M);M=a.composedRef;a=a.inputRef;var R=k(null),S=k(null),T=c("useResizeObserver")(function(){S.current!=null&&S.current.reposition({autoflip:!g.disableAutoFlip})}),U=c("useCometInternalTypeaheadState")(),V=U.activeEntries,W=U.highlightedEntry;U=z==="input"?a.current:R.current;var X=c("cometHandleHighlightDropOnMouseLeave")(Q.onHighlightEntry);z=c("useCometAccessibilityAlerts")();a=z[0];var Y=z[1],Z=k();j(function(){var a,b=(a=Z.current)!=null?a:[];if(v&&b.length<v.length){a=v.filter(function(a){return!b.includes(a)});Y(h._("__JHASH__B4tEJ9D88a9__JHASH__",[h._param("entry",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}else if(b.length>v.length){a=b.filter(function(a){return!v.includes(a)});Y(h._("__JHASH__E2ufigyYww2__JHASH__",[h._param("entries",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}Z.current=v},[v,Y]);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:c("stylex")(P==null?void 0:P.layoutXStyle),ref:R,children:i.jsxs("div",{className:c("stylex")(P==null?void 0:P.inputXStyle),onClick:D,ref:T,role:"presentation",children:[a,i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:u,onBackspace:A,onBlur:B,onChange:C,onClick:c("emptyFunction"),onDownArrow:E,onEnter:F,onEscape:G,onFocus:H,onShiftTab:I,onTab:J,onUpArrow:K,ref:M,children:function(a,b){return i.jsx(w,babelHelpers["extends"]({},b,{ariaProps:q,autoFocus:Q.autoFocus,description:n,errorMessage:t,id:Q.id,inputEndContent:Q.inputEndContent,inputExtraProps:Q.inputExtraProps,inputStartContent:v.length>0?i.jsx(N,{isDisabled:x,onPress:Q.onRemoveEntry,tokens:v}):null,isDisabled:x,label:y,placeholder:Q.placeholder,queryString:L,ref:a,testid:void 0}))}})})]})}),o!=null&&i.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},p,{children:o})),i.jsx(c("CometHeroHoldTrigger.react"),{description:m,hold:!(U!=null&&b!==!1)||U!=null&&b!==!1&&V.length===0}),U&&b&&i.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},g,{align:e,context_DEPRECATED:U,position:f,ref:S,children:i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:Q.onOutsideClick,children:function(a){return i.jsxs("div",{className:c("stylex")([l.view,P==null?void 0:P.viewXStyle_DO_NOT_USE]),onMouseLeave:X,ref:a,children:[i.jsx(O,{ariaProps:r,entries:V,extraViewProps:Q.extraViewProps,highlightedEntry:W,isLoading:s,onHighlightEntry:Q.onHighlightEntry,onPressEntry:Q.onPressEntry,queryString:L}),i.jsx(c("CometHeroHoldTrigger.react"),{description:m,hold:s&&V.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onBackspace,e=b.onBlur,f=b.onChange,g=b.onDownArrow,i=b.onEnter,j=b.onEscape,k=b.onHighlightEntry,l=b.onOutsideClick,m=b.onPressEntry,n=b.onRemoveEntry;b=b.onUpArrow;var o=a.inputRef;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:o,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:i});i=h(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:o,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:o,onOutsideClick:l});o=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:b});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:i,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:o}}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.handlers,d=b.onAbandonTypeahead_DO_NOT_USE,e=b.onClick,f=b.onOutsideClick,g=b.onShiftTab,i=b.onTab;b=babelHelpers.objectWithoutPropertiesLoose(b,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]);var j=a.inputRef,k=a.isDisabled,l=a.queryString;a=a.selectedEntries;var m=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),n=m.dispatchIsOpened,o=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var p=m.dispatchActiveEntries,q=m.dispatchHighlightedEntry;m=h(function(){n(!1),f&&f()},[n,f]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:babelHelpers["extends"]({onOutsideClick:m},b),inputRef:j,selectedEntries:a});var r=m.onBackspace;b=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=h(function(){n(!1),d&&d()},[n,d]);var A=h(function(){l.length===0&&n(!1),r&&r()},[n,r,l.length]),B=h(function(a){n(!0),s&&s(a)},[n,s]),C=h(function(){!o&&!Boolean(k)&&n(!0),j.current&&j.current.focus(),e&&e()},[o,k,j,e,n]),D=h(function(){n(!1),q({entry:null,source:null}),p([]),u&&u()},[p,q,n,u]),E=h(function(){n(!1),v&&v()},[n,v]),F=h(function(){o?t&&t():n(!0)},[n,o,t]),G=h(function(a,b){n(!1),p([]),x&&x(a,b)},[p,n,x]),H=h(function(a){n(!1),y&&y(a)},[n,y]),I=h(function(){n(!1),g&&g()},[n,g]),J=h(function(){n(!1),i&&i()},[n,i]),K=h(function(){!o?n(!0):z&&z()},[n,o,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:b,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["fbt","CometFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isDisabled,c=a.onPress,e=a.tokens,f=a.tokenStrategyRenderer;return i.jsx(d("CometFocusTable.react").CometFocusTable,{elementType:"span",label:h._("__JHASH__JsJP4UWjJGj__JHASH__"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,wrapY:!0,children:e.map(function(a,e){return i.jsx(d("CometFocusTable.react").CometFocusRow,{children:i.jsx("div",{className:"x1rg5ohu x1gslohp xw3qccf x12nagc xsgj6o6",role:"row",children:i.jsx(d("CometFocusTable.react").CometFocusCell,{children:i.jsx("span",{role:"gridcell",children:i.jsx(f,{isDisabled:b,onPress:c,token:a})})})})},e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return i(function(a){a=babelHelpers["extends"]({},a);return h.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b,d])}g["default"]=a}),98);
__d("CometInternalTokenizerFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("useCometInternalTokenizerFetch",["CometInternalTokenizerFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){return h(c("CometInternalTokenizerFetchContext"))}g["default"]=a}),98);
__d("useCometInternalTokenizerFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.selectedTokens,f=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var g=a.isOpened;a=c("useCometInternalTypeaheadState")();var j=a.activeEntries;a=c("useCometInternalTokenizerFetch")();var k=a.fetch;a=h(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:j,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a,selectedTokens:e}:{perfTraceAPI:c,query:a,selectedTokens:e};k(d)}var c=d.trimLeft();if(!g)return;f?f.trace(function(b){return a(c,b)},c):a(c)},[j,k,g,b,d,e,f]);i(a,[g,d,e])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return h(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["emptyFunction","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetchHandler","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.inputRef,d=a.layoutStrategyRenderer,e=a.loggingProvider,f=a.onBlur,g=a.onChange,j=a.onEnter,k=a.onFocus,l=a.onPressEntry,m=a.onSearchCompletion,n=a.onSelectFreeformQuery,o=a.onShiftTab,p=a.onTab,q=a.queryString,r=a.selectedEntries,s=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","selectedEntries","traceProvider"]);b=c("useCometTypeaheadInputRefs")(b);var t=b.composedRef,u=b.inputRef;b=c("useCometInternalTypeaheadState")();var v=b.highlightedEntry,w=b.highlightedEntrySource;b=c("useCometInternalTypeaheadStateDispatcher")();var x=b.dispatchHighlightedEntry;b=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var y=b.dispatchIsOpened;c("useCometInternalTokenizerFetchHandler")({loggingProvider:e,queryString:q,selectedTokens:r,traceProvider:s});b=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:e,onBlur:f,queryString:q});s=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:e,onFocus:k,queryString:q});f=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:e,onEnter:i(function(){if(v!=null&&w==="keyboard")u.current&&u.current.focus(),l&&l(v);else{var a;a=(a=u.current)==null?void 0:a.value;if(a==="")m&&m();else{n&&n((a=a)!=null?a:"")}}x({entry:null,source:null});g("");j&&j()},[v,w,x,g,j,u,l,m,n]),queryString:q});k=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:e,onPressEntry:l,queryString:q});var z=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){y(!1),o&&o()},[y,o]),loggingProvider:e,queryString:q}),A=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:i(function(){y(!1),p&&p()},[y,p]),loggingProvider:e,queryString:q}),B=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});e=c("useCometInternalTypeaheadOnAbandonLoggingHandler")({callback:c("emptyFunction"),loggingProvider:e,queryString:q});return h.jsx(d,babelHelpers["extends"]({},a,{inputRef:t,onAbandonTypeahead_DO_NOT_USE:e,onBlur:b,onChange:g,onClick:c("emptyFunction"),onEnter:f,onFocus:s,onOutsideClick:B,onPressEntry:k,onShiftTab:z,onTab:A,queryString:q,selectedEntries:r}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWLightSpeedChatContactsTabs.bs",["fbt","CometTabs.react","gkx","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xmz0i5r",$$css:!0},tab:{display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",width:"xl0us3e",$$css:!0},tabsContainer:{boxShadow:"x1md01qi",$$css:!0},thinTab:{width:"x18664gs",$$css:!0}};function a(a){a=a.children;var b=[{label:h._("__JHASH__tpQTD5AaD3c__JHASH__"),onPress:function(a){},selected:!0,underlineColor:"var(--accent)",xstyle:[j.tab,c("qex")._("1499")===!0?j.thinTab:!1]}];return i.jsxs("div",{className:"x78zum5 xdt5ytf xmz0i5r",children:[c("gkx")("4671")?null:i.jsx("div",{className:"x1md01qi",children:i.jsx(c("CometTabs.react"),{tabs:b})}),a]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.styles=j;g.make=b}),98);
__d("MWLightSpeedChatTabSuggestedContacts.bs",["fbt","ActorHovercard.react","CometFacepilePhoto.react","CometMiddot.react","CometScrollableArea.react","MDSListCell.react","MDSLockSvgIcon.bs","MDSTextPairing.react","MWText.react","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={contactsList:{paddingTop:"x1y1aw1k",$$css:!0},listCell:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},lockIcon:{display:"x1rg5ohu",marginEnd:"xgnuv6c",verticalAlign:"xxymvpz",$$css:!0}};function a(a){var b=a.setTokens;a=a.tokens;return i.jsx(c("CometScrollableArea.react"),{horizontal:!0,xstyle:j.contactsList,children:i.jsx("ul",{children:a.map(function(a){var d=a.rawData,e=d.id,f=d.displayName,g=d.imageUrl,j=i.jsx(c("CometFacepilePhoto.react"),{size:36,sources:[{alt:f,disabled:!1,source:g}],totalItems:1}),k;if(d.isE2e)k=c("bs_caml_option").some(i.jsxs(c("MWText.react"),{numberOfLines:1,type:"meta4",children:[i.jsx("span",{className:"x1rg5ohu xgnuv6c xxymvpz",children:i.jsx(c("MDSLockSvgIcon.bs"),{color:"black",size:12})}),h._("__JHASH__JZiAjvwn3FT__JHASH__")]}));else{g=d.subtext;d=d.isInstagramAccount===!0;k=d&&g!==""?c("bs_caml_option").some(i.jsxs(c("MWText.react"),{numberOfLines:1,type:"meta4",children:[g,i.jsx(c("CometMiddot.react"),{}),"Instagram"]})):void 0}return i.jsx("li",{className:"xurb0ha x1sxyh0",children:i.jsx(c("ActorHovercard.react"),{actorID:e,position:"start",children:function(d){var e={headline:f,level:4,reduceEmphasis:!0};k!==void 0&&(e.meta=c("bs_caml_option").valFromOption(k));return i.jsx(c("MDSListCell.react"),{addOnStart:j,content:i.jsx(c("MDSTextPairing.react"),babelHelpers["extends"]({},e)),disabled:!1,onPress:function(d){return c("bs_curry")._1(b,function(b){return[a]})},ref:d,selected:!1,size:"medium",testid:void 0})}})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.styles=j;g.make=b}),98);
__d("MWLightSpeedChatTabContactsContainer.bs",["MNetRankType.bs","MWChatSearchFetchContactRecommendations.bs","MWLightSpeedChatContactsTabs.bs","MWLightSpeedChatTabSuggestedContacts.bs","createMWChatSearchTypeaheadDataEntry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSearchView;a=a.setTokens;var e=d("MWChatSearchFetchContactRecommendations.bs").useHook(d("MNetRankType.bs").messengerUserSearchNullstate),f=h.useMemo(function(){return e.map(function(a){return c("createMWChatSearchTypeaheadDataEntry")(a[0])})},[e]);if(b)return null;else return h.jsx(d("MWLightSpeedChatContactsTabs.bs").make,{children:h.jsx(d("MWLightSpeedChatTabSuggestedContacts.bs").make,{setTokens:a,tokens:f})})}b=a;g.make=b}),98);
__d("MWChatTabTokenizerInternalLayoutInlineStrategy.react",["CometScrollableArea.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadKeyboardForScrollableArea","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0},viewHidden:{pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0}};function a(a){var b=a.commandConfigs,d=a.extraLayoutProps,e=d.afterViewContent,f=d.ariaProps,g=f.ariaDescribedByProps,j=f.ariaInputProps,k=f.ariaViewProps;f=d.beforeViewContent;var l=d.helperTextComponent,m=d.isLoading;d=d.isOpened;var n=a.description,o=a.errorMessage,p=a.inputStrategyRenderer,q=a.inputRef,r=a.isDisabled,s=a.label,t=a.onBackspace,u=a.onBlur,v=a.onChange,w=a.onDownArrow,x=a.onEnter,y=a.onEscape,z=a.onFocus,A=a.onShiftTab,B=a.onTab,C=a.onUpArrow,D=a.queryString,E=a.selectedEntries,F=a.tokensStrategyRenderer,G=a.viewStrategyRenderer,H=a.xstyles;H=H===void 0?{}:H;var I=a.extraViewProps,J=babelHelpers.objectWithoutPropertiesLoose(a,["commandConfigs","extraLayoutProps","description","errorMessage","inputStrategyRenderer","inputRef","isDisabled","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","selectedEntries","tokensStrategyRenderer","viewStrategyRenderer","xstyles","extraViewProps"]);a=c("useCometInternalTypeaheadState")();var K=a.activeEntries,L=a.highlightedEntry;a=c("useCometTypeaheadLayoutStrategyStyles")({isOpened:d,xstyles:H});H=a.inputXStyle;var M=a.layoutXStyle,N=a.viewXStyle_DO_NOT_USE,O=c("useCometTypeaheadKeyboardForScrollableArea")(L),P=c("cometHandleHighlightDropOnMouseLeave")(J.onHighlightEntry);return h.jsxs("div",{className:c("stylex")(M),children:[h.jsx("div",{className:c("stylex")(H),onClick:J.onClick,role:"presentation",children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:b,onBackspace:t,onBlur:u,onChange:v,onClick:c("emptyFunction"),onDownArrow:w,onEnter:x,onEscape:y,onFocus:z,onShiftTab:A,onTab:B,onUpArrow:C,ref:q,children:function(a,b){return h.jsx(p,babelHelpers["extends"]({description:n},b,{ariaProps:j,autoFocus:J.autoFocus,errorMessage:o,id:J.id,inputEndContent:J.inputEndContent,inputExtraProps:J.inputExtraProps,inputStartContent:h.jsx(F,{isDisabled:r,onPress:J.onRemoveEntry,tokens:E}),isDisabled:r,label:s,placeholder:E.length>0?null:J.placeholder,queryString:D,ref:a,testid:void 0}))}})}),l!=null&&h.jsx("div",babelHelpers["extends"]({},g,{children:l})),f,d&&h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:J.onOutsideClick,children:function(a){return h.jsx("div",{className:c("stylex")([i.view,N,K.length===0&&!m&&i.viewHidden]),onMouseLeave:P,ref:a,children:h.jsx(c("CometScrollableArea.react"),{horizontal:!1,ref:O,children:h.jsx(G,{ariaProps:k,entries:K,extraViewProps:I,highlightedEntry:L,isLoading:m,onHighlightEntry:J.onHighlightEntry,onPressEntry:J.onPressEntry,queryString:D})})})}}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabTokenizerBaseLayoutInlineStrategy.react",["CometTypeaheadHelperText.react","MWChatTabTokenizerInternalLayoutInlineStrategy.react","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutInlineStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.inputRef,g=a.label,j=a.onBackspace,k=a.onBlur,l=a.onChange,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,q=a.onOutsideClick,r=a.onPressEntry,s=a.onRemoveEntry,t=a.onUpArrow,u=a.viewRole,v=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","inputRef","label","onBackspace","onBlur","onChange","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onUpArrow","viewRole","selectedEntries"]);var w=c("useCometInternalTokenizerFetch")();w=w.isLoading;var x=c("useCometInternalTypeaheadState")(),y=x.activeEntries;x=x.highlightedEntry;var z=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),A=z.dispatchIsOpened;i(function(){A(!0)},[A]);z=c("useCometTypeaheadInputRefs")(f);f=z.composedRef;z=z.inputRef;j=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:{onBackspace:j,onBlur:k,onChange:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onOutsideClick:q,onPressEntry:r,onRemoveEntry:s,onUpArrow:t},inputRef:z,selectedEntries:v});k=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:y,helperText:e,highlightedEntry:x,inputLabel:g,isOpened:!0,viewRole:u});return h.jsx(c("MWChatTabTokenizerInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},a,j,{extraLayoutProps:{afterViewContent:d,ariaProps:k,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:w,isOpened:!0},inputRef:f,label:g,selectedEntries:v,viewRole:u}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabsTokenizerLayoutInlineStrategy.react",["fbt","MWChatTabTokenizerBaseLayoutInlineStrategy.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={layout:{width:"xi55695",$$css:!0},layoutContainer:{borderBottom:"xdppsyt",display:"x78zum5",$$css:!0},root:{position:"x1n2onr6",$$css:!0},to:{color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1fcty0u",lineHeight:"xvq8zen",marginStart:"x1d52u69",marginTop:"x1xmf6yo",zIndex:"x1n327nk",$$css:!0},typeaheadInput:{backgroundColor:"xcrg951",boxSizing:"x9f619",display:"x1lliihq",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},view:{backgroundColor:"xcrg951",height:"xl6hnh8",maxHeight:"xj8ehma",position:"x10l6tqk",start:"xmh0m78",top:"xdsb8wn",width:"xi55695",zIndex:"xhtitgo","@media (min-height: 1280px)_height":"x460g69",$$css:!0}};function a(){return function(a){var b=a.xstyles;b=b===void 0?{}:b;var d=b.viewXStyle_DO_NOT_USE;b=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]);a=j(function(){return{inputXStyle:[k.typeaheadInput],layoutXStyle:[k.layout],viewXStyle_DO_NOT_USE:[k.view,d]}},[d]);return i.jsxs("div",{className:"x1n2onr6",children:[i.jsxs("div",{className:"xdppsyt x78zum5",children:[i.jsx("div",{"aria-hidden":"true",className:"xzsf02u x6prxxf x1fcty0u xvq8zen x1d52u69 x1xmf6yo x1n327nk",children:h._("__JHASH__6UNdxXc7Mre__JHASH__")}),i.jsx(c("MWChatTabTokenizerBaseLayoutInlineStrategy.react"),babelHelpers["extends"]({},b,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("__JHASH__dp6PXfW93vj__JHASH__"),layerContext:"root",xstyles:a}))]}),(a=b.extraLayoutProps)==null?void 0:a.footer]})}}g.createMWChatTabsTokenizerLayoutInlineStrategy=a}),98);
__d("MWV2ComposeTabHeader.bs",["fbt","MWPThreadTheme.bs","MWText.react","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2IsTabFocusedContext.bs","UseMWV2CloseTab.bs","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b={title:{paddingStart:"x1sln4lm",$$css:!0}};function j(a){return i.jsx("div",{className:"x1sln4lm",children:i.jsx(c("MWText.react"),{type:"headline4",children:h._("__JHASH__uhF6__U4Uqu__JHASH__")})})}j.displayName=j.name+" [from "+f.id+"]";e={make:j};function a(a){var b=a.tab;a=a.thread;var e=d("UseMWV2CloseTab.bs").useHook(a,b);a=d("MWV2IsTabFocusedContext.bs").useContext();b=d("MWPThreadTheme.bs").useTop();a=a?b:"#BEC2C9";return i.jsx(d("MWV2HeaderContainer.bs").make,{divider:!1,endContent:i.jsx(d("MWV2HeaderCloseButton.bs").make,{color:a,label:h._("__JHASH__1QV0CKBqQm1__JHASH__"),onPress:function(a){return c("bs_curry")._1(e)}}),startContent:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=b;b=e;e=f;g.styles=a;g.ComposeTabTitle=b;g.make=e}),98);
__d("MWV2ComposeTab.bs",["BootloaderResource","CometPlaceholder.react","CometProgressRingIndeterminate.react","JSResource","LSDatabaseDeferred.bs","MAWGating","MAWVerifyThreadCutover.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabsTokenizerLayoutInlineStrategy.react","MWChatTemporarySearchResult.bs","MWChatTokenizerTokenStrategy.react","MWInteropTokenUtils.bs","MWLightSpeedChatTabContactsContainer.bs","MWOpenAndSecureThreadView.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWPThreadTheme.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWThreadListNewMessageHook.bs","MWV2ChatTabComposer.bs","MWV2ComposeTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2FileDropzone.bs","MWV2NewThreadUtils.bs","MWV2TabContainer.bs","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1599","createMWChatSearchTypeaheadDataEntry","gkx","promiseDone","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResource")("MWPThreadPreview.bs").__setRef("MWV2ComposeTab.bs");function j(a,b,d,e,f,g,h,i,j){j={areWeCreatingASecureThread:b,children:i,renderThreadView:f,setPreviewThread:d,tokens:a};e!==void 0&&(j.nullstate=c("bs_caml_option").valFromOption(e));g!==void 0&&(j.renderThreadPreview=c("bs_caml_option").valFromOption(g));h!==void 0&&(j.checkExistingThreads=c("bs_caml_option").valFromOption(h));return j}function k(a){return h.createElement(d("BootloaderResource").read(i).make,a)}e={make:k,makeProps:j,reasonResource:i};var l={encapsulateZIndex:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",zIndex:"x1ja2u2z",$$css:!0},preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},spinner:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},toggleContainer:{boxShadow:"x7m3og9",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xyinxu5",paddingBottom:"x1g2khh7",":empty_display":"xjl7jj",$$css:!0}};function m(a){return c("createMWChatSearchTypeaheadDataEntry")(d("MWChatTemporarySearchResult.bs").fromContact(void 0,a))}function n(a){var b=a.length,e=c("usePrevious")(b);a=h.useContext(d("MWPReplyContext.bs").context);var f=a.clearReply;h.useEffect(function(){!(e==null)&&b!==e&&c("bs_curry")._2(f,c("bs_caml_int64").zero,!0)},[b,e,f])}var o=d("MAWGating").isTlcSearchEnabled();function a(a){var e=a.initialTokens,f=a.tab;d("MWV2NewThreadUtils.bs").useSyncRanking();a=h.useState(function(){});var g=a[0],i=f.tabType,l;l=i.TAG===0?i._1:!1;var p=c("gkx")("2761")&&d("MAWGating").isArmadillo();i=h.useState(function(){if(p)return!0;else return l});var q=i[1],r=i[0];i=e.map(m);e=d("MWV2NewThreadUtils.bs").useTokens(i,r);var s=e[1],t=e[0];i=d("MWV2NewThreadUtils.bs").useTokensShimmed(t,r);d("MWThreadListNewMessageHook.bs").useHook(t);n(t);var u=h.useState(function(){return!1}),v=u[1],w=d("MWChatStateV2.bs").useDispatch(),x=function(a){return c("bs_curry")._1(w,d("MWChatStateActions.bs").lockInTab(Date.now(),f.tabId,a))};x=d("MWV2NewThreadUtils.bs").useOnAddToken(r,v,x,q);var y=h.useCallback(function(a){return c("bs_curry")._1(v,function(a){return!0})},[v]),z=h.useMemo(function(){return d("MWChatTabsTokenizerLayoutInlineStrategy.react").createMWChatTabsTokenizerLayoutInlineStrategy(!0)},[]),A=d("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(t,r),B=h.useMemo(function(){return t.some(d("MWInteropTokenUtils.bs").isInterop)},[t]);h.useEffect(function(){if(o&&t.length===1){var a=c("bs_caml_array").get(t,0);a=a.rawData;if(a.isE2e)c("bs_curry")._1(q,function(a){return!0});else{var b=a.otherUserId;b=b!==void 0?b:a.id;a=d("MAWVerifyThreadCutover.bs").verifyThreadCutover(d("LSDatabaseDeferred.bs").db,c("bs_caml_format").caml_int64_of_string(b)).then(function(a){return c("bs_curry")._1(q,function(b){return a})});c("promiseDone")(a)}}},[t,q]);var C=h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}),children:h.jsx(d("MWLightSpeedChatTabContactsContainer.bs").make,{isSearchView:!1,setTokens:function(a){return c("bs_curry")._1(s,c("bs_curry")._1(a,[]))}})}),D=h.useMemo(function(){return{footer:b("cr:1599")==null?null:h.jsx("div",{className:"x7m3og9 x1pi30zi x1swvt13 xyinxu5 x1g2khh7 xjl7jj",children:h.jsx(b("cr:1599").make,{areWeCreatingASecureThread:r,disabled:B,setAreWeCreatingASecureThread:q,stretch:!0})})}},[r,q,B]),E={tab:f};g!==void 0&&(E.thread=c("bs_caml_option").valFromOption(g));if(g!==void 0){var F=g.clientThreadKey;F=c("bs_int64").to_string(F!==void 0?F:g.threadKey);y=h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:g.themeFbid,children:h.jsx(d("MWV2ChatTabComposer.bs").make,{afterSendMessage:y,isPreviewThread:!0,secureThreadToggle:r,tab:f,thread:g},F)})})}else y=null;F={children:h.jsxs("div",{className:"x78zum5 xdt5ytf x5yr21d x1ja2u2z",children:[h.jsx(d("MWV2ComposeTabHeader.bs").make,babelHelpers["extends"]({},E)),h.jsxs(d("MWV2FileDropzone.bs").make,{isMediaOnly:B,thread:g,children:[h.jsx(d("MWChatLightSpeedSearchTypeahead.bs").make,{excludedIDs:e[2],extraLayoutProps:D,getIsViewItemDisabled:A,includeRecommendations:!1,isDisabled:u[0],isSecure:r,layoutStategyRenderer:z,onAddToken:x,onChangeTokens:s,onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokenItemRenderer:c("MWChatTokenizerTokenStrategy.react"),tokens:t}),h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x2lwn1j x1n2onr6 x1vjfegm",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(k,j(i,r,a[1],c("bs_caml_option").some(C),function(a){return h.jsx(d("MWOpenAndSecureThreadView.bs").make,{thread:a})},void 0,void 0,y))})})]})]}),tab:f};g!==void 0&&(F.thread=c("bs_caml_option").valFromOption(g));return h.jsx(d("MWPNewMessageDraftContext.bs").make,{children:h.jsx(d("MWV2ComposerHasContentContext.bs").make,{children:h.jsx(d("MWV2TabContainer.bs").make,babelHelpers["extends"]({},F))})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=l;l=o;f=f;g.$MWInboxSecureThreadToggle$requireCond=b("cr:1599");g.LazyMWPThreadPreview=e;g.styles=a;g.isTlcEnabled=l;g.make=f}),98);
__d("LWICometAutomatedAdsCreationRootContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5679658918785641"}),null);